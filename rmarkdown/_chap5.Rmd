---
title: "Site dynamic"
author: "Kossi"
date: "11/01/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Pages dynamiques, mais comment ça ?

Je vous disais dans le premier chapitre de ce cours que la grande différence entre les pages Web et un document pdf est la dynamicité des premiers. Avec du JavaScript, le rendu d'une page web peut changer à tout moment en fonction des interactions avec l'utilisateur. Par exemple, sur certains sites, vous n'avez qu'un contenu minimal si vous n'êtes pas authentifié. Et même si vous êtes authentifié, selon les boutons que vous cliquez et selon vos déplacements de souris, le rendu de la page peut changer. Tous ses aspects rendent le scraping beaucoup  plus compliqués. Pourquoi ? Dans l'application de tout à l'heure nous avons téléchargé le code source de la page et nous avons extraits les données qui nous intéressent. Eh bien, ce schéma de travail n'est plus utilisable du moment où le code source ne contient que quelques scripts (sans données) qui vont se charger d'aller chercher les données et les afficher selon nos interactions avec la page. Pour obliger le serveur à vous montrer les données, il faut exécuter le javascript de la page et pour ce faire il faut se doter d'un outil bien adapté. Peut importe l'outil, la nécessité d'activer du javascript sur une page ralenti le processus de **scraping**. Mais pour des applications de taille raisonnable, cette perte de rapidité ne constituera pas un vrai frein au projet de récupération de données. Autrement, il va falloir identifier soi même et n'activer que les javascripts les plus 'intéressants'. Il est aussi possible de régarder directement les requêtes envoyées par le navigateur et reconstituer soi même la procédure complète requise pour récupérer la donnée de la page d'intérêt.



# Un exemple de page dynamique

Un exemple de site dynamique est **oddsportal**. C'est un portail de référence qui offre des données à jour sur les évènements sportifs du monde entier. 

```{python}
import requests
from bs4 import BeautifulSoup

odp = requests.get("https://www.oddsportal.com/soccer/england/premier-league/")
```

Naviguez sur la page [oddsportal]()


